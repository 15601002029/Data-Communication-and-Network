---
tags:
  - 计算机网络
  - 考研
  - 笔记
---

# 计算机网络的概念
- 将一个众多**分散的、自治的**计算机系，通过**通信设备**与**线路**连接起来，有功能完善的**软**件实现**资源共享**和**信息传递**的系统。
	自治的：计算机与计算机之间相互独立，其中一个损坏不会影响其他计算机的运行。
# 计算机网络 互连网 互联网
- 计算机网络(computer networking)
	由若干节点(node)和连接这些节点的链路(link)组成。
	集线器：可以把多个节点连接起来，组成一个计算机网络，它工作在[[#物理层设备|物理层]]。
	交换机：功能同上，它工作在数据链路层。
	路由器：把两个或多个计算机网络相互连接起来，形成更大规模的计算机网络，成为“互连网”。路由器工作在网络层。
- 互连网(internet)
	把两个或多个计算机网络相互连接起来，形成更大规模的计算机网络，成为“互连网”。
- 互联网(因特网、Internet)
	由各大**ISP**(Internet Service Provider 互联网服务提供商)和国际结构组件的，覆盖全球范围的互连网。

>[!note]
>互联网必须使用TCP/IP协议通信。互连网可以使用任何协议，因为这是个人组建的。

# 计算机网络的组成
**从组成部分看**(硬件，软件，协议)
- 硬件：主机，即端系统(end-system)、通信设备、通信链路。
- 软件
- 协议：由软件和硬件共同实现，规定计算机网络的通信规则。网络适配器+软件
**从工作方式分类**(核心部分&边缘部分) ^871040
- 核心部分为边缘部分提供了连通性和交换服务。![[94401a61dd616da31687dce01d65363.jpg]]
**从逻辑功能分类**（资源子网&通信子网）
- 通信子网：计算机网络中负责计算机间信息传输的部分，即把计算机和其他用户装置互联在一起的所有通信设备和介质的总称。主要由**通信链路+通信设备+协议**构成。
  ps：主机内部实现信息传输的网络适配器，七层协议属于通信子网的范畴。
- 资源子网：计算机网络中运行的应用程序，想用户提供可共享的硬件、软件和信息资源的部分。主要由连接到互联网上的主机组成。
# 计算机网络的功能
**数据通信**
**资源共享**：硬件资源共享，软件资源共享，数据资源共享。
**分布式处理**：将复杂的任务分派给网络中的多台计算机。
**提高可靠性**：网络中的各台计算机互为替代机。
**负载均衡**：网络中各台计算机共同分担繁重工作。
**其他**：满足社会需求、生活需求。
# 数据交换
## 电话网络
**电路交换**：通过物理线路的连接，动态的分配传输线路资源。
电路交换的过程：
     建立连接（尝试占用通信资源）
     通信（一直占用通信资源）
     释放连接（归还通信资源）
>[!tip] 优缺点
>优点：
>通信前从主叫端到被叫端建立一条专用的物理通路，在通信的全部时间内，两个用户始终占用端到端的线路资源。数据直送，传输效率高。
>电路交换更适合于低频词、大量的传输数据。
>
>缺点：
>建立/释放连接，需要额外的时间开销。
>线路被通信双方独占，利用率低。
>线路分配灵活性较差。
>交换节点不支持差错控制，无法发现传输过程中的发生的数据错误。
>计算机之间数据往往是“突发式”传输，即往往会高频词、少量的传输数据。
## 电报网络
**报文交换**：存储转发，把传从的数据单元先存储进中间节点，再根据目的地址转发至下一节点。
>[!tip] 优缺点
>优点：
>通信前无需建立连接
>数据以“报文”为单位被交换节点间“存储转发”，通信线路可以灵活分配
>通信时间内，两个用户无需独占一整条物理线路。相比于电路交换，线路利用率高
>交换节点支持“差错控制”（通过校验技术）
>缺点：
>报文是不定长的，不方便存储转发管理
>长报文的存储转发时间开销大，缓存开销大
>长报文容易出错，重传代价高

## 计算机网络
**分组交换技术**：
![[1725459128251.png]]
传递一份不定长的报文， 然后按定长分组，每个分组都有一个首部，首部包含分组的控制信息：源地址、目的地址：分组号等。
路由器通过IP地址判断源地址和目的地址。
>[!tip] 优缺点
>优点：
>通信前**无需**建立连接
>数据以”分组“为单位被交换节点间”存储转发“，通信线路可以灵活分配
>通信时间内，两个用户无需独占一整条物理线路。相比较于电路交换，线路利用率更高。
>交换节点支持”差错控制“（通过校验技术）
>分组定长，方便存储转发管理
>分组的存储转发时间开销小、缓存开销小
>分组不易出错，重传代价低
>缺点：
>相比于报文交换，控制信息占比增加
>相比电路交换，依然讯在存储转发时延
>报文被拆分为多个分组，传输过程中可能出现失序、丢失等问题，增加处理复杂度。
## 虚电路交换技术
**虚电路交换**：
建立连接（虚拟电路）
通信（分组按序、按已建立号的既定线路发送，通信双方不独占线路）
释放连接
# 数据交换性能分析
![[1725461098213.png]]
电路交换：连接释放过程可以紧随着数据传送的结束开始，中间无需时间间隔，图中是为了避免重合。
报文交换：中间节点一定要接受完整的报文后，才能解析并转发。在B、C中延迟的时间为存储转发时延。图中存储转发时延为2s。
分组交换：中间节点一定要接收完整个分组后，才能解析并转发。
![[15f165277535fb250ee6f410c98b51b.jpg]]
# 计算机网络的文磊
## 按分布范围分类
- **广域网**（WAN,Wide Area Network）
	跨省/跨国/跨洲
- 城域网（MAN,Metropolitan Area Network）
	与局域网类似
- **局域网**（LAN,Local Area Network）
	通信技术：以太网技术
	学校/企业/工作单位/家庭
- 个域网（PAN,Personal Area Network）
	通常是通过无线技术将个人设备连接起来的网络，因此也常成为无线个域网（WPAN）
	W：Wireless
## 按传输技术分类
- 广播式网络：当一台计算机发送数据分组时，广播防范为内所有计算机都会收到该分组，并通过**检查分组的目的地址**决定是否接受该分组
- 点对点网络：数据只会从发送方“点对点”发送到接收方，精确送达。
## 按拓扑结构分类（物理上/**逻辑上**）

![[附录#^e25808]]

- 总线形结构：数据“广播式”传输；存在“总线争用”问题。
- 环形结构：数据“广播式”传输；通过“令牌”解决总线争用问题，令牌顺环形依次传递，拿到令牌者可以使用总线
- 星型结构：由中央设备实现数据的“点对点”传输；不存在“总线争用”问题
- 网状结构：数据通过各中间节点逐一存储转发；属于“点到点”传输
### 按使用者分类
公用网、专用网
### 按传输介质分类
有线网络、无线网络
# 计算机网络性能指标
## 速率、带宽、吞吐量

![[附录#^3f8b69]]

**速率（Speed）**：指连接到网络上的节点在信道上传输数据的速率。也称**数据传输速率**。
**速率单位**：bit/s b/s **bps**
>[!tips]
>有时也会用B/S(1B=8b，B=Byte 字节，b=bit 比特)

计算机网络中常用的数量前缀： 
$$
k*10^{3}=M
$$
$$
M*10^{3}=G
$$
$$
G*10^{3}=T
$$
**带宽**（bandwidth）：某信道所能传送的==最高速率数据==。
**结论：节点间通信实际能达到的最高速率，由带宽，节点性能共同限制。**
**吞吐量**（Throughput）：指单位时间内通过某个网络（或信道、接口）的实际数据量（实际的纵隔数据率）
## 时延
**时延**（Delay）：指数据（一个报文或分组，甚至比特）从网络（或链路）的**一段传送到另一端所需的时间**。有时也称为延迟或迟延。

总时延=发送时延+传播时延+处理时延+排队时延
![[1725779953212.png]]
**e.g.**:
![[1725780161212.png]]
## 时延带宽积
时延带宽积=传播时延$*$带宽$\to$bit
**含义**：一条链路中，已从发送端发出尚未到达接接收端的最大比特数。
## 往返时延
RTT（Round-Trip Time）：表示从发送方发送完数据，到发送方接受来自接收方的确认总共经历的时间。
![[1725781360477.png]]
>[!tips] 注意
>t1是发送方发送数据的发送时延，不计入RTT
## 信道利用率
**信道利用率**：某个信道有百分之多少的时间是有数据通过的。
- 发送方在一个发送周期内，有效的发送数据所需要的时间占整个发送周期的比率。
信道利用率=有数据通过的时间/有数据通过的时间+没有数据通过的时间。
`信道利用率=(L/C)/T`
	- L：T内发送L的比特数
	- C：发送方放数据传输率
	- T：发送周期：从开始发送数据，到接收到第一个确认帧为止。
![[b96552d1d8b3d6a88a5d10c027afd6e.png]]
## 信道吞吐率
信道吞吐率=信道利用率`*`发送方的发送速率
# 计算机网络的分层结构
## “分层”的设计思想
计算机网络的功能：
- 差错控制：确保数据在传输过程中不出错
- 流量控制：发送端的发送速率必须使接收端来得及接受，不要太快
- 分段和重装：发送端将要发送的数据块划分为更小的单位，并在接收端将其还原
- 复用和分用：发送端几个高层会话复用一条低层的连接，在接收端再进行分用
- 连接建立和释放：交换数据前先建立一条逻辑链接，数据传送结束后释放连接
- **将复杂的计算机网络再逻辑上划分为多个层次，并将各种功能安排在合适的层次中**
- **==不同类型的节点，实现的功能层次可能不一样==**
- **层次结构的设计并不唯一**，可以根据书记需求增加或减少层次
- 同一个功能可以再多个层次中重复出现
![[1725797334511.png]]
**网络的体系结构**（Network Archtecture）是计算机网络的各层及其协议的集合，就是这个计算机网络及其构件所应完成的功能的精确定义（不涉及现实）。
**实体**：在计算机网络的分层结构中，第n层中的活动元素（软件+硬件）通常成为第n层实体。不同机器上的同一层成为**对等层**，同一层的实体成为**对等实体**。

**协议**：网络协议（Network Protocol），是控制对等实体之间进行通信的规则的集合，==是水平的==。 ^dfc85f

**接口**：即同一节点内**相邻两层的实体**交换信息的逻辑接口，又称为**服务访问点（Service Access Point，SAP）**。
**服务**：指**下层为紧邻的上层**提供的功能调用，是==垂直的==。
## PDU、SDU、PCI的概念
**协议数据单元（PDU）**：对等层此之间传送的数据单元。第n层的PDU记为n-PDU
**服务数据单元（SDU）**：完成上一层实体所要求的功能而传送的数据。第n层的PDU记为n-SDU
**协议控制信息（PCI）**：控制协议操作的信息。第n层的PCI记为n-PCI
![[1725951156638.png]]
三者关系为：**n-SDU+n-PCI=n-PDU=(n-1)-SDU**
## 协议三要素

![[#^dfc85f]]

1.语法：数据与控制信息的格式。
2.语义：需要发出何种控制信息，完成何种动作以及做出何种应答。
3.同步（时序）：执行各种操作的条件、时序关系等，即事件实现顺序的详细说明。
# OSI参考模型
物理传输媒体（0层）
1.物理层
	实现相邻节点之间的比特（0或1）的传输
	需定义传出信号的含义、电器特征
2.数据链路层
	确保相邻节点之间的链路**逻辑上无差错**，两节点间以帧为单位进行传播
	差错控制：检错+纠错；或检错+丢弃+重传
	流量控制：协调两个节点的速率
3.网络层
	把“分组”从源节点转发到目的节点
	路由选择：构造并维护路由表，决定分组到达目的节点的最佳路径
	分组转发：将“分组”从何时的端口转发出去
	拥塞控制：发现网络拥塞，并采取措施环节拥塞
	网际互连：实现异构网络互联
	（以“分组”为单位）差错控制，流量控制，连接建立与释放，可靠传输管理
	可以向上层提供有连接可靠的服务（虚电路）
	无连接不可靠的服务（数据报）
>[!tips]
>在数据链路层，差错控制针对帧进行，这意味着数据链路层只能保证传递信息的局部正确性，所以网络层还需要进行差错控制，确保在网络层进行分组转发时，信息传递的全局的正确性。

4.传输层
实现端到端通信（即实现进程到进程的通信，“端”为端口）
	复用和分用：发送端几个高层实体复用一条底层的连接，在接收端在进行分用
	其他功能（以报文段为单位）：差错控制，流量控制，连接建立与释放（确保报文段有序、不重复到达），可靠传输管理（接收方需返回报文段确认消息）
	仅能向上层提供有连接可靠的服务
5.会话层
	管理进程间会话
6.表示层
	解决不同主机上信息表示不一致的问题
7.应用层
	实现特定的网络应用
# TCP/IP模型
如果某些应用需要数据格式转换、会话管理功能，就交给应用层的特定协议实现
1.网络接口层：实现相邻节点间的数据传输（位网络层传输“分组”），但具体怎么传输不管
2.网络层：只保证“尽最大能力交付”，数据传输是不可靠的
	路由选择，分组转发，拥塞控制，网际互连
	向上层提供无连接不可靠的服务（数据报）
	**使得网络核心部分（路由器）的功能简单，负载低**
3.传输层：
	复用和分用，差错控制，连接建立于释放，可靠性传输
	向上层提供有连接可靠的服务（TCP协议）
	无连接不可靠的服务（UDP协议）
4.应用层：实现特定的网络应用（功能复杂且多样）
	如果某些应用需要数据格式转换、会话管理功能，就交给应用层去实现。